{"ast":null,"code":"function ulebEncode(num) {\n  let bigNum = BigInt(num);\n  const arr = [];\n  let len = 0;\n  if (bigNum === 0n) {\n    return [0];\n  }\n  while (bigNum > 0) {\n    arr[len] = Number(bigNum & 0x7fn);\n    bigNum >>= 7n;\n    if (bigNum > 0n) {\n      arr[len] |= 128;\n    }\n    len += 1;\n  }\n  return arr;\n}\nfunction ulebDecode(arr) {\n  let total = 0n;\n  let shift = 0n;\n  let len = 0;\n  while (true) {\n    if (len >= arr.length) {\n      throw new Error(\"ULEB decode error: buffer overflow\");\n    }\n    const byte = arr[len];\n    len += 1;\n    total += BigInt(byte & 127) << shift;\n    if ((byte & 128) === 0) {\n      break;\n    }\n    shift += 7n;\n  }\n  if (total > BigInt(Number.MAX_SAFE_INTEGER)) {\n    throw new Error(\"ULEB decode error: value exceeds MAX_SAFE_INTEGER\");\n  }\n  return {\n    value: Number(total),\n    length: len\n  };\n}\nexport { ulebDecode, ulebEncode };\n//# sourceMappingURL=uleb.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}