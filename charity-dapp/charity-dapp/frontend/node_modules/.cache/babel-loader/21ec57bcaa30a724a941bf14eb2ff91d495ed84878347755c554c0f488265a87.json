{"ast":null,"code":"import { array, boolean, check, integer, lazy, literal, nullable, nullish, number, object, optional, pipe, record, string, transform, tuple, union, unknown } from \"valibot\";\nimport { isValidSuiAddress, normalizeSuiAddress } from \"../../utils/sui-types.js\";\nfunction safeEnum(options) {\n  const unionOptions = Object.entries(options).map(([key, value]) => object({\n    [key]: value\n  }));\n  return pipe(union(unionOptions), transform(value => ({\n    ...value,\n    $kind: Object.keys(value)[0]\n  })));\n}\nconst SuiAddress = pipe(string(), transform(value => normalizeSuiAddress(value)), check(isValidSuiAddress));\nconst ObjectID = SuiAddress;\nconst BCSBytes = string();\nconst JsonU64 = pipe(union([string(), pipe(number(), integer())]), check(val => {\n  try {\n    BigInt(val);\n    return BigInt(val) >= 0 && BigInt(val) <= 18446744073709551615n;\n  } catch {\n    return false;\n  }\n}, \"Invalid u64\"));\nconst ObjectRef = object({\n  objectId: SuiAddress,\n  version: JsonU64,\n  digest: string()\n});\nconst Argument = pipe(union([object({\n  GasCoin: literal(true)\n}), object({\n  Input: pipe(number(), integer()),\n  type: optional(literal(\"pure\"))\n}), object({\n  Input: pipe(number(), integer()),\n  type: optional(literal(\"object\"))\n}), object({\n  Result: pipe(number(), integer())\n}), object({\n  NestedResult: tuple([pipe(number(), integer()), pipe(number(), integer())])\n})]), transform(value => ({\n  ...value,\n  $kind: Object.keys(value)[0]\n}))\n// Defined manually to add `type?: 'pure' | 'object'` to Input\n);\nconst GasData = object({\n  budget: nullable(JsonU64),\n  price: nullable(JsonU64),\n  owner: nullable(SuiAddress),\n  payment: nullable(array(ObjectRef))\n});\nconst StructTag = object({\n  address: string(),\n  module: string(),\n  name: string(),\n  // type_params in rust, should be updated to use camelCase\n  typeParams: array(string())\n});\nconst OpenMoveTypeSignatureBody = union([literal(\"address\"), literal(\"bool\"), literal(\"u8\"), literal(\"u16\"), literal(\"u32\"), literal(\"u64\"), literal(\"u128\"), literal(\"u256\"), object({\n  vector: lazy(() => OpenMoveTypeSignatureBody)\n}), object({\n  datatype: object({\n    package: string(),\n    module: string(),\n    type: string(),\n    typeParameters: array(lazy(() => OpenMoveTypeSignatureBody))\n  })\n}), object({\n  typeParameter: pipe(number(), integer())\n})]);\nconst OpenMoveTypeSignature = object({\n  ref: nullable(union([literal(\"&\"), literal(\"&mut\")])),\n  body: OpenMoveTypeSignatureBody\n});\nconst ProgrammableMoveCall = object({\n  package: ObjectID,\n  module: string(),\n  function: string(),\n  // snake case in rust\n  typeArguments: array(string()),\n  arguments: array(Argument),\n  _argumentTypes: optional(nullable(array(OpenMoveTypeSignature)))\n});\nconst $Intent = object({\n  name: string(),\n  inputs: record(string(), union([Argument, array(Argument)])),\n  data: record(string(), unknown())\n});\nconst Command = safeEnum({\n  MoveCall: ProgrammableMoveCall,\n  TransferObjects: object({\n    objects: array(Argument),\n    address: Argument\n  }),\n  SplitCoins: object({\n    coin: Argument,\n    amounts: array(Argument)\n  }),\n  MergeCoins: object({\n    destination: Argument,\n    sources: array(Argument)\n  }),\n  Publish: object({\n    modules: array(BCSBytes),\n    dependencies: array(ObjectID)\n  }),\n  MakeMoveVec: object({\n    type: nullable(string()),\n    elements: array(Argument)\n  }),\n  Upgrade: object({\n    modules: array(BCSBytes),\n    dependencies: array(ObjectID),\n    package: ObjectID,\n    ticket: Argument\n  }),\n  $Intent\n});\nconst ObjectArg = safeEnum({\n  ImmOrOwnedObject: ObjectRef,\n  SharedObject: object({\n    objectId: ObjectID,\n    // snake case in rust\n    initialSharedVersion: JsonU64,\n    mutable: boolean()\n  }),\n  Receiving: ObjectRef\n});\nconst CallArg = safeEnum({\n  Object: ObjectArg,\n  Pure: object({\n    bytes: BCSBytes\n  }),\n  UnresolvedPure: object({\n    value: unknown()\n  }),\n  UnresolvedObject: object({\n    objectId: ObjectID,\n    version: optional(nullable(JsonU64)),\n    digest: optional(nullable(string())),\n    initialSharedVersion: optional(nullable(JsonU64))\n  })\n});\nconst NormalizedCallArg = safeEnum({\n  Object: ObjectArg,\n  Pure: object({\n    bytes: BCSBytes\n  })\n});\nconst TransactionExpiration = safeEnum({\n  None: literal(true),\n  Epoch: JsonU64\n});\nconst TransactionData = object({\n  version: literal(2),\n  sender: nullish(SuiAddress),\n  expiration: nullish(TransactionExpiration),\n  gasData: GasData,\n  inputs: array(CallArg),\n  commands: array(Command)\n});\nexport { $Intent, Argument, BCSBytes, Command, GasData, JsonU64, NormalizedCallArg, ObjectArg, ObjectID, ObjectRef, OpenMoveTypeSignature, OpenMoveTypeSignatureBody, StructTag, SuiAddress, TransactionData, TransactionExpiration, safeEnum };\n//# sourceMappingURL=internal.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}